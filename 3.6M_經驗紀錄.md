# >> 三百六十五萬case 經驗紀錄 << #



## 先創造表格再匯入資料避免key重複 ##

先直接用table data import wizard匯入整個csv 再去讀取創表格的格式有時候比較快

```
SHOW CREATE TABLE yoyo.mark_6562_case_originaldata
```

於是複製修改一下 如下

## 先創造表格 讀進365w結構 ##

先直接用table data import wizard匯入整個csv 再去讀取創表格的格式有時候比較快

```
SHOW CREATE TABLE yoyo.temp_import_365
```
### 創表格 ###
設定 PRIMARY KEY 為Canonical_Smiles
 和 UNIQUE KEY 為id 讓他自動編號
複製修改一下 如下
```
CREATE TABLE `3.65M__case_smiles_originaldata` (
 id INT UNSIGNED NOT NULL AUTO_INCREMENT,
 `Original_Smiles` text,
 `Canonical_Smiles` varchar(120) NOT NULL,

 PRIMARY KEY (Canonical_Smiles),
 UNIQUE KEY (id)
 )
 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
```



## 隨機取出2w個 ##
.....

```
CREATE TABLE `3.65M__case_smiles_random_2w`
SELECT * 
FROM `3.65M__case_smiles_originaldata`
ORDER BY RAND()
LIMIT 20000
```



## 取出前1w個 當train data ##
.....

```
CREATE TABLE `3.65M__case_smiles_train_data_1w`
SELECT * 
FROM `3.65M__case_smiles_random_2w`
LIMIT 10000    #前1w筆資料
```


## 取出最後1w個 當validation data ##
.....

```
CREATE TABLE `yoyo.temp_3.65M__case_smiles_validation_data_1w`
SELECT * 
FROM `yoyo.temp_3.65M__case_smiles_random_2w`
LIMIT 10000, 10000   #跳過前1w筆  取接著的1w筆
```


## xxxxx ##
.....

```
.......
```



## xxxxx ##
.....

```
.......
```


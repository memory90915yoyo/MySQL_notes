# >>經驗紀錄<< #


## 設定primary Key ##

要設定某欄位為primary key 可能因為妳是BLOB or TEXT的欄位屬性 導致出現ERROR 1170
這時候建議把屬性改成VARCHAR(數目)
```
ALTER TABLE yoyo.canonical_smile_by_hong_mixwith_filenum_summation
MODIFY Canonical_Smiles VARCHAR(100)
```
接著再正常的設定primary key

```
ALTER TABLE yoyo.canonical_smile_by_hong_mixwith_filenum_summation
ADD PRIMARY KEY (Canonical_Smiles)
```

## 先創造表格再匯入資料避免key重複 ##

先直接用table data import wizard匯入整個csv 再去讀取創表格的格式有時候比較快

```
SHOW CREATE TABLE yoyo.mark_6562_case_originaldata
```

於是複製修改一下 如下
```
 CREATE TABLE `mark_6562_case_nonrepeat_data` (
 `Smiles` text, `Canonical_Smiles` varchar(100) NOT NULL,
`InChI` text,`InChIKey` text, `RGroupIndices` text, 
`Cation_ElectronicEnergy` double DEFAULT NULL, `Cation_ZeroPointEnergy` double DEFAULT NULL,`Neutral_ElectronicEnergy` double DEFAULT NULL,
 `Neutral_HOMOEnergy` double DEFAULT NULL,  `Neutral_LUMOEnergy` double DEFAULT NULL, `Neutral_ZeroPointEnergy` double DEFAULT NULL, 
 `Name` text,  `ErrorText` text,
 `StructureColumn2` text,
 `Anion_ElectronicEnergy` double DEFAULT NULL, `Anion_ZeroPointEnergy` double DEFAULT NULL,
 PRIMARY KEY (Canonical_Smiles)
 )
 ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
```




## notes ##
如果欄位包含括號或者特殊符號 導致語法錯誤 可以用``符號夾住

```
CREATE TABLE grep_1860_of_5460_predict_data(
`LUMO(eV)` DECIMAL(40,20),
`HOMO(eV)` DECIMAL(40,20)
)
SELECT Canonical_Smiles, HOMO * 27.21 AS `HOMO(eV)`, LUMO * 27.21 AS `LUMO(eV)`
FROM yoyo.`1860_of_5460_predict_data`
```



## XXXXX ##
.....

```
.......
```
